<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qcap.cac.dao.AttenceRestMapper">
	
	<select id="getAttenceList" resultType="com.qcap.cac.entity.TbAttence" parameterType="com.qcap.cac.dto.GetAttenceDetailsReq">
        SELECT
        	ATTENCE_ID attenceId,
        	ORG_NAME orgName,
        	PERSON_ID personId,
        	WORK_NO workNo,
        	PERSON_NAME personName,
        	PERSON_MOBILE personMobile,
        	ATTENCE_TIME attenceTime,
        	WORK_CONTENT workContent,
        	FILES_URL filesUrl,
        	REMARK remark
        FROM
        	tb_attence
       	WHERE
       		WORK_NO = #{employeeCode} AND DATE_FORMAT(ATTENCE_TIME,'%Y%m%d') = #{date};
        ORDER BY ATTENCE_TIME
    </select>
	
</mapper>
